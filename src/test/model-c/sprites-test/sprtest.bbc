REM >SPRTEST
MODE2:PRINT TAB(0,10)
PROCpal
REM select blitter sprite regs page
?&EE=&D1:?&FCFF=&D1:?&FCFD=&FB:?&FCFE=&FF
!&3000=&E400011B:!&3004=&E440071B:!&3008=&E4D01C1B:!&300C=&E434721B:!&3010=&E434721B:!&3014=&E4D01C1B:!&3018=&E440071B:!&301C=&E400011B
REM make sprite list for sprite channel 0
PROCctl(&3020,200,128,8,TRUE,TRUE,TRUE)
!&3024=&3000
PROCctl(&3028,200,140,8,FALSE,FALSE,FALSE)
!&302C=&3000
REM make sprite list for sprite channel 1
PROCctl(&3030,180,128,8,FALSE,TRUE,TRUE)
!&3034=&3000
PROCctl(&3038,180,140,8,FALSE,FALSE,FALSE)
!&303C=&3000
REM start channel 0, 1
!&FD0C=&3020
!&FD1C=&3030

X%=0
REPEAT
REPEAT:A%=19:CALL&FFF4:UNTILNOTINKEY(-99)
?&3030=X%
?&3038=X%
X%=X%+1
UNTILFALSE

REM P = addr, X,Y,H - position/height A%=attach, D%=load data pointer next, C%=continue
DEFPROCctl(P%,X%,Y%,H%,A%,D%,C%):?P%=X%:P%?1=Y%:P%?2=Y%+H%:P%?3=((X%>255)AND1)OR((Y%>255)AND2)OR(((X%+H%)>255)AND4)OR(A%AND128)OR(D%AND64)OR(C%AND32):ENDPROC

 900DEFPROCpal:LOCALI,X:FORI=0TO15:READX%:?&FE23=X%DIV256:?&FE23=X%:NEXT:ENDPROC
1000DATA&0000,&1007,&2070,&3077,&4700,&5707,&6770,&7777
1010DATA&8444,&900F,&A0F0,&B0FF,&CF00,&DF0F,&EFF0,&FFFF